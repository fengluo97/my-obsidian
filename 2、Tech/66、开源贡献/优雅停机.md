Dubbo 优雅停机的一种解决方案。研究应用发版停机时偶现报错告警的问题，实现优雅停机效果，提升系统可用性与用户体验。1、调研系统中使用到的中间件，对其关闭时机进行分析时发现公司内部框架包中对 Jedis、Redisson、RocketMQ 和 ElasticJob 二次封装时显式调用了 addShutdownHook，导致 runhooks 并发执行。2、通过自定义注解在编译时引入改造之后的类，取消对shutdownHook的注册，从而修改第三方Jar包源码。3、利用 Spring 的 LifeCycle 机制来管理 RocketMQ 和 ElasticJob 的 shutDownHook 达到优雅停机效果，利用 Spring @PreDestory 来释放 Jedis 与 Redisson，控制关闭顺序。
