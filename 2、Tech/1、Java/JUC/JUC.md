# 进程与线程
- 进程是资源分配的基本单位，线程是CPU调度执行的基本单位
- 进程有独立的地址空间和程序代码等资源，切换开销较大；线程共享同一进程的地址空间和程序代码等资源，切换开销小（进程虚拟地址空间切换后导致页表也要切换，进而导致Cache失效，命中率降低，虚拟地址转换为物理地址就会变慢，而线程无需切换地址空间）
- 进程可以包含多个线程，但是一个线程只能属于一个进程

# Java 多线程
## 创建与执行
### 继承 Thread 类


### 实现 Runnable 接口


### 使用 FutureTask 实现 Callable 接口


## 线程执行原理
### 栈帧
每个方法调用会产生一个栈帧，栈帧包含了局部变量表、返回地址、操作数栈、锁记录等。

### 多线程
多个线程之间的方法调用栈独立。

### 上下文切换
因为一些原因导致CPU不在执行当前线程，转而执行另一个线程的代码。
- 线程的CPU时间片用完了
- 垃圾回收的安全点导致用户线程暂停
- 更高优先级的线程需要运行
- 线程自身调用了 sleep、yield、wait、join、park、synchronized、lock 等方法
上下文切换（Thread Context switch）发生时，需要操作系统保存当前线程的运行状态，并恢复另外一个线程的状态，Java中就是通过程序计数器来记录线程运行的状态，它指向了下一条JVM指令的地址。
- 状态包含了程序计数器、虚拟机栈中的每个栈帧的信息，如局部变量、操作数栈、返回地址等
- 频繁的上下文切换会影响性能。

## 常用方法



