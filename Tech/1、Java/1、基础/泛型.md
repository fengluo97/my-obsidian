## 什么是泛型
Java 的泛型是 1.5 提出的，作为对 Java 类型转换不安全的一种解决办法。在 1.5 之前，Object 类型可以接收任意的对象类型，但是在实际的使用中，会有类型转换的问题，也就是说，错误的类型转换在编译期无法感知，只会在运行时报错。

比如，使用 List 但是不声明类型，并向其中 add 不同类型的数据，虽然可以顺利通过编译，但是使用时会报类型转换异常 ClassCastException。

泛型就是为了解决这种类型不安全的问题，在编译期进行类型检查，并且提供了更规范的类型控制，同时提升了可读性。

泛型（参数化类型）是把确定类型的操作推迟到对象创建或者方法调用时，才能确定具体类型的一种类型。泛型在使用时，将对象类型作为参数，这种参数可以被使用在 类、接口、方法中，称为 泛型类、泛型接口、泛型方法。

一般我们在创建对象时，会指定对应的类型，如果没有指定类型，并且也没有指定泛型的话，默认类型就是 Object 类型。

## 泛型的使用
### 泛型类
```java
public class GenericTest<T> {
    private T data;
    public T getData() {
        return data;
    }
    public void setData(T data) {
        this.data = data;
    }
}
```

### 泛型接口
```java
public interface GenericInterface<T> {
    T getData();
}
```
实现类在实现泛型接口时，可以选择指定参数类型，也可以选择不指定参数类型。

### 泛型方法
```java
/**
 * 只有声明了<T>的方法才是泛型方法，泛型类中的使用了泛型的成员方法并不是泛型方法。
 * <T>表明该方法将使用泛型类型T，此时才可以在方法中使用泛型类型T。
 * 与泛型类的定义一样，此处T可以随便写为任意标识，常见的如T、E等形式的参数常用于表示泛型。
 *
 * @param t 传入泛型的参数
 * @param <T> 泛型的类型
 * @return T 返回值为T类型
 */
public <T> T genercMethod(T t){
	 System.out.println(t.getClass());
	 System.out.println(t);
	 return t;
}
```

### 通配符
在Java库中，使用变量E表示集合的元素类型，K和V分别表示关键字和值的类型。T表示任意类型。

#### 任意通配符 ?
任意通配符表示类型不确定，可以传入任意类型作为最终类型，但是不能用于存储，因为类型信息是不确定的，只能用于读取。

#### 上界限定符 extends
用 extends 关键字声明，表示参数化的类型可能是所指定的类型，或者是此类型的子类。

#### 下界限定符 super
用 super 进行声明，表示参数化的类型可能是所指定的类型，或者是此类型的父类型，直至 Object。

## 泛型的原理
### 类型擦除
Java泛型是一个伪泛型，这是因为Java在编译期间所有泛型信息都会被擦除掉。Java泛型基本上都是在编译器这个层次上实现的，在生成字节码中是不包括泛型中的类型信息，使用泛型的时候添加上类型参数，在编译器编译的时候会去掉，这个过程称为类型擦除。
如在List\<Object\>，List\<String\>等类型，在编译后都会变成List，JVM看到的只是List，而由泛型的附加信息对JVM是看不到的。Java编译器会在编译期间尽可能的发现出错的地方，但是无法在运行时刻出现类型转换和类型转换异常的情况。
类型擦除时，会将类型变为原始类型，如果没有上界限定类型，则使用 Object 作为原始类型，否则使用上界限定类型。

## 优缺分析
### 优点
1、增强集合类：泛型使集合类更加类型安全和简洁，不再需要显式进行类型转换。
2、类型安全：提供了编译期的类型安全，确保在泛型类型上只能使用正确类型的对象，一定程度上避免了在运行时出现ClassCastException。
3、代码重用：通过使用泛型，可以编写通用的代码，适用于多种不同类型的数据，提高了代码的灵活性和复用性。
4、API设计：泛型使得API的设计更加清晰和一致，可以定义泛型接口、类和方法，提供更加灵活的参数类型和返回值类型。

### 缺点
1、通过反射还是可能导致类型不安全

## 应用场景
泛型在提供一些通用的代码组件时非常常见，项目中比如统一返回对象包装类，分页响应对象包装类，通用导入类等。
在框架中有着更为广泛的使用，在提供通用性的同时，使用泛型确保了类型安全，使得代码简洁规范，可读性也较好。

## 推荐阅读
[深入理解泛型(经典详解)-CSDN博客](https://blog.csdn.net/Sunshineoe/article/details/110162807)
[还不知道泛型是什么？这一篇深入浅出泛型教学！ - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/382239048)
[一文搞懂 java 泛型，也有可能搞不懂，毕竟讲得太全面了 - 掘金 (juejin.cn)](https://juejin.cn/post/7249913673215836218#heading-1)
